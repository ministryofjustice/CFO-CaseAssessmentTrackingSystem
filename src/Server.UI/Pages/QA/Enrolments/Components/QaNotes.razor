@inherits CatsComponentBase

@using Humanizer

@if (_notes is { Length: > 0 })
{
    <MudTimeline TimelineOrientation="TimelineOrientation.Vertical" TimelinePosition="TimelinePosition.Start">
        @foreach (var note in _notes.OrderByDescending(n => n.Created))
        {   
            <MudTimelineItem Size="Size.Medium" Color="Color.Success" Elevation="25">
                <MudTooltip Text="@note.Created.ToLocalTime().ToString("ddd, dd MMM yyyy 'at' HH:mm")">
                    <MudCard Outlined="false" Elevation="25">
                        <MudCardContent>
                            <MudText Typo="Typo.body1">
                                @note.Message
                            </MudText>

                            @if (_hideUser && _cfoTenantNames.Contains(note.TenantName))
                            {
                                <MudText Typo="Typo.caption">
                                    CFO User (@note.TenantName)  @note.Created.Humanize()
                                </MudText>
                            }
                            else
                            {
                                <MudText Typo="Typo.caption">
                                    @note.CreatedBy (@note.TenantName)  @note.Created.Humanize()
                                </MudText>
                            }

                        </MudCardContent>
                    </MudCard>
                </MudTooltip>
            </MudTimelineItem>
        }
    </MudTimeline>
}