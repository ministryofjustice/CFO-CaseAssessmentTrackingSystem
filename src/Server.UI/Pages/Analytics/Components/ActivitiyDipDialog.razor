@using Cfo.Cats.Application.Features.PerformanceManagement.DTOs
@using Cfo.Cats.Server.UI.Components.Documents

<MudDialog>
    <DialogContent>
        
        <MudTabs>
            <MudTabPanel Icon="@Icons.Material.Filled.Info" Text="Details">
                
                <MudStack Class="ma-2">
                    
                    <MudTextField ReadOnly="true" Label="Definition" Value="@Model.Definition.Type" />
                    <MudTextField ReadOnly="true" Label="Category" Value="@Model.Category" />
                    <MudTextField ReadOnly="true" Label="Commenced On" Value="@Model.CommencedOn" />
                    <MudTextField ReadOnly="true" Label="Additional Information" Value="@Model.AdditionalInformation"/>
                    <MudTextField ReadOnly="true" Label="Status" Value="@Model.Status" />
                    <MudTextField ReadOnly="true" Label="Location" Value="@Model.Location" />
                    
                    
                    <MudText Class="mt-2">
                        Created by <strong>@Model.CreatedBy</strong> on @Model.Created
                    </MudText>
                    
                    @if (Model is ParticipantDipSampleEducationAndTrainingActivityDto ete)
                    {
                        <MudTextField ReadOnly="true" Label="Course Title" Value="@ete.CourseTitle" />
                        <MudTextField ReadOnly="true" Label="Course Url" Value="@ete.CourseUrl" />
                        <MudTextField ReadOnly="true" Label="Level" Value="@ete.CourseLevel" />
                        <MudTextField ReadOnly="true" Label="Course Commenced" Value="@ete.CourseCommencedOn" />
                        <MudTextField ReadOnly="true" Label="Course Completed" Value="@ete.CourseCompletedOn" />
                        <MudTextField ReadOnly="true" Label="Completion Status" Value="@ete.CompletionStatus" />
                    }
                    
                    @if (Model is ParticipantDipSampleIswActivityDto isw)
                    {
                        <MudStack>
                            <MudText>Hours Performed</MudText>
                            <MudStack Row="true">
                                <MudTextField ReadOnly="true" Label="Pre" Value="@isw.HoursPerformedPre"/>
                                <MudTextField ReadOnly="true" Label="During" Value="@isw.HoursPerformedDuring"/>
                                <MudTextField ReadOnly="true" Label="Post" Value="@isw.HoursPerformedPost"/>
                            </MudStack>
                        </MudStack>
                        <MudTextField ReadOnly="true" Label="Wraparound Started" Value="@isw.WraparoundSupportStartedOn" />
                        <MudTextField ReadOnly="true" Label="Baseline Achieved" Value="@isw.BaselineAchievedOn" />
                    }


                    @if (Model is ParticipantDipSampleEmploymentActivityDto emp)
                    {
                        <MudTextField ReadOnly="true" Label="Employment Type" Value="@emp.EmploymentType" />
                        <MudTextField ReadOnly="true" Label="Employer Name" Value="@emp.EmploymentType" />
                        <MudTextField ReadOnly="true" Label="Job Title" Value="@emp.JobTitle" />
                        <MudTextField ReadOnly="true" Label="Job Title Code" Value="@emp.JobTitleCode" />
                        <MudTextField ReadOnly="true" Label="Salary" Value="@emp.Salary" />
                        <MudTextField ReadOnly="true" Label="Frequency" Value="@emp.SalaryFrequency" />
                        <MudTextField ReadOnly="true" Label="Employment Commenced" Value="@emp.EmploymentCommenced" />
                    }


                    @if (Model.ApprovedOn.HasValue)
                    {
                        <MudText>
                            Approved <strong>@Model.ApprovedOn</strong>
                        </MudText>
                    }

                </MudStack>


            </MudTabPanel>
            <MudTabPanel Icon="@Icons.Material.Filled.DocumentScanner" Text="Evidence" Disabled="@DisableDocumentTab()">
                <MudPaper Height="calc(100vh - 100px)">
                    <DocumentDisplayComponent DocumentId="DocumentId!.Value" />
                </MudPaper>
            </MudTabPanel>
        </MudTabs>
    </DialogContent>
    <DialogActions>
        <MudButton Color="Color.Primary" OnClick="Ok">Ok</MudButton>
    </DialogActions>
</MudDialog>