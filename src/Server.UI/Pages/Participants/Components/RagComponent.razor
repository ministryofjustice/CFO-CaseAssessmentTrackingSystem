@using Cfo.Cats.Domain.Common.Enums
@using Cfo.Cats.Application.Features.Assessments.DTOs
@using Cfo.Cats.Domain.ValueObjects
@using System.Data

@if (Pathway.Score >= 0)
{
   <MudChip T="string" Icon="@Cfo.Cats.Domain.Common.Enums.Pathway.FromName(Pathway.Pathway).Icon" Label="true" Color="@GetColor(Pathway.Score)">
        @Pathway.Pathway
    </MudChip>
}
else
{
    <MudChip T="string" Icon="@Cfo.Cats.Domain.Common.Enums.Pathway.FromName(Pathway.Pathway).Icon" Label="true" Color="Color.Primary" Disabled="true">
        @Pathway.Pathway
    </MudChip>
}

@code {

    [Parameter, EditorRequired]
    public PathwayScore Pathway { get; set; } = default!;

    private Color GetColor(double ragScore) =>
        ragScore switch
        {
            > 25 => Color.Success,
            >10 => Color.Warning,
            _ => Color.Error,
        };
}